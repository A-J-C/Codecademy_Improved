function forumUpdater(){"use strict";function e(){null===localStorage.getItem(v)?(p=[],localStorage.setItem(v,JSON.stringify(p))):p=JSON.parse(localStorage.getItem(v))}function t(){h=document.createElement("DIV"),h.setAttribute("id","canned-response-container"),h.classList.add("canned-response-container"),f.appendChild(h)}function n(){var e=document.createElement("LI"),t=document.createElement("SPAN");return e.setAttribute("id","new-canned-response"),t.textContent="Create new canned response",e.appendChild(t),e}function a(){e(),m=document.createElement("ul");var t=n();m.setAttribute("id","canned-responses-list"),m.appendChild(t),h.appendChild(m);for(var a,i=0,s=p.length;s>i;i++)a=p[i],r(a.name,a.body)}function r(e){var t=document.createElement("LI"),n=document.createElement("SPAN"),a=document.createElement("SPAN");n.textContent=e,n.classList.add("name"),a.classList.add("fa","fa-trash"),t.appendChild(n),t.appendChild(a),m.appendChild(t)}function i(){var e=document.createElement("div"),t=document.createElement("button"),n=document.createElement("i");e.classList.add("d-editor-spacer"),t.classList.add("ember-view","btn","no-text","canned-response"),t.setAttribute("id","canned-response-button"),t.setAttribute("title","Canned responses"),t.setAttribute("aria-label","Canned responses"),n.classList.add("fa","fa-pencil-square-o"),f.appendChild(e),t.appendChild(n),f.appendChild(t)}function s(){var e=qS("textarea"),t=e.selectionStart,n=e.selectionEnd,a=e.value.substring(t,n),i=prompt("Make sure you have highlighted the text you wish to use as a canned response before clicking ok. If you haven't already selected anything, cancel this prompt, select the text and then create a new response. \nPlease name your canned response:",a.slice(0,10)+"...");return i?(p.push({name:i,body:a}),localStorage.setItem(v,JSON.stringify(p)),void r(i,a)):!1}function d(e){qS(".d-editor-input").value+=e,h.hide(),f.removeClass("active")}function c(e){var t=e.parentNode,n=[].indexOf.call(m.children,t)-1;p.splice(n,1),localStorage.setItem(v,JSON.stringify(p)),m.removeChild(t)}function o(){f=qS(".d-editor-button-bar"),i(),t(),a(),h.hide(),qS("#new-canned-response").addEventListener("click",s),m.addEventListener("click",function(e){var t,n=e.target,a=n.tagName;"LI"===a?(t=[].indexOf.call(m.children,n)-1,-1!==t&&d(p[t].body)):"SPAN"===a&&c(n)}),qS(b).addEventListener("click",function(){h.toggle(),f.toggleClass("active")})}function l(){function e(e){var t,n,e,a;a=document.createElement("span"),t=document.createElement("a"),n=document.createElement("i"),t.href=s,t.target="_blank",t.classList.add("external-course-link"),n.classList.add("external-course-link"),n.classList.add("fa","fa-external-link"),n.title="Open exercise in new tab",a.textContent=" ",t.appendChild(n),e.appendChild(a),e.appendChild(t)}if(w.test(L)){var t=qS(".title-wrapper .badge-wrapper.bullet:first-child .badge-category");if(t){var n=t.textContent,a=qSAll("a.badge-wrapper.bullet"),r=a[a.length-1],i=r.getAttribute("href").split("/"),s="https://www.codecademy.com/courses/";y.indexOf(n)>-1?s+=i[3]:C.indexOf(n)>-1?s+=i[2]+"/lessons/"+i[3]+"/resume":s="";var d;if(s)try{d=qSAll(".title-wrapper > .ember-view")[0],d.querySelector(".external-course-link")?(d=qS(".docked .d-header .title-wrapper > .ember-view"),d&&!qS(".external-course-link")&&e(d)):e(d)}catch(c){console.log(c)}}}}function u(e){try{var t="https://www.codecademy.com/"+e.textContent.split(" ")[0],n=document.createElement("a"),a=document.createElement("i");n.setAttribute("target","_blank"),n.setAttribute("href",t),n.classList.add("external-user-link"),n.setAttribute("aria-hidden","true"),n.setAttribute("title","Open this user profile on the main site"),a.classList.add("fa","fa-external-link"),n.appendChild(a),e.appendChild(n)}catch(r){console.log("Error",r)}}if("complete"!==document.readyState)return setTimeout(forumUpdater,500),!1;var p,m,h,f,b="#canned-response-button",v="canned_responses",S=".external-course-link",g=".external-user-link",y="Python, Ruby, JavaScript, HTML & CSS, PHP, jQuery, Make an Interactive Website, Make a Website, Goals, APIs",C="Learn the Command Line, Learn Java, Ruby on Rails: Authentication, Learn AngularJS, Learn SQL, Learn Git, Learn Rails, Make an Interactive Website: Projects, Make a Website: Projects",w=/discuss.codecademy.com\/t/,L=window.location.href;l();var k={attributes:!0,childList:!0,characterData:!0,subtree:!0},x=new MutationObserver(function(e){e.forEach(function(){var e=qS(".d-editor-preview"),t=qS(b),n=qS(".title-wrapper > .ember-view"),a=qS(".docked .d-header .title-wrapper > .ember-view");(n&&!n.querySelector(S)||a&&!a.querySelector(S))&&l();var r=qS(".user-main .about .details .primary h1");r&&!qS(g)&&u(r),!t&&e&&(e.addClass("cooked"),o())})});x.observe(qS("body"),k)}try{forumUpdater()}catch(e){console.log(e)}